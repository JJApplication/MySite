<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="theme-color" content="crimson">
    <meta name="msvalidate.01" content="true">

    <link href="/static/res/favicon.png" rel="icon">
    <link href="/static/css/font/lato.css" rel="stylesheet">
    <link href="/static/css/font/bad.css" rel="stylesheet">
        <link href="https://cdn.bootcss.com/animate.css/3.7.2/animate.min.css" rel="stylesheet">
        <link href="https://cdn.bootcss.com/highlight.js/9.15.9/styles/atom-one-light.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="stylesheet" href="/static/css/mgekwiki.css">
  <title>Doc | Landers</title>

</head>

<body>

  <div>

    <div id="box" class="custom-logo-site-title animated fadeInDown">
      <a href="/" class="brand" rel="start">
        <span class="site-title">Landers1037</span>
      </a>
    </div>
        <h1 class="site-subtitle animated fadeInDown">æ²³æ±‰æ¸…ä¸”æµ… ç›¸å»å¤å‡ è®¸</h1>
        <span class="top"><a href="/docs/"><p>Mgek</p></a></span>
  </div>


      <div class="main-inner">
        <div class="content-wrap">

          <div id="content" class="content">

  <div class="post-block">

      <div class="post-header">
          <p class="post-title" itemprop="name headline"><span style="color: crimson">Mgekdown</span>æ–‡æ¡£</p>
      </div>

    <div class="post-body">
	<h1>Mgekdownæ˜¯ä¸€ä¸ªmdæ–‡æœ¬è½¬æ¢å·¥å…·</h1>

    <h3>åŠŸèƒ½</h3>
    <p>é…åˆflaskï¼Œæ”¯æŒå¯¹markdownæ–‡æœ¬è½¬æ¢åä½¿ç”¨Jinjiaæ¸²æŸ“æ˜¾ç¤º</p>
    <h3>éœ€æ±‚</h3>
        <p>éœ€æ±‚æ ¼å¼åŒ–ä¸€è‡´çš„mdæ–‡ä»¶ï¼Œå·¥å…·ä½¿ç”¨çš„æ˜¯hexoçš„æ¨¡æ¿</p>
        <p>é€‚åˆåŸæœ¬æ˜¯hexoç­‰é™æ€åšå®¢ï¼Œæƒ³å°†mdåŸæ–‡ä»¶è½¬ä¸ºflaskçš„éœ€æ±‚</p>
        <p>è¯¦ç»†éœ€æ±‚</p>
    <b>hexoæ¨¡æ¿æ ·å¼</b>
    <pre><code class='markdown' lang='markdown'>
        ---
        title: {{ title }}
        date: {{ date }}
        tags:
        categories:
        abstract:
        ---
        æ‘˜è¦
        &lt;!--more--&gt;
    </code></pre>
    <b>flaskåˆå§‹åŒ–</b>
        <p>æ·»åŠ è‡ªå®šä¹‰çš„mdè¿‡æ»¤å™¨</p>
        <pre class="python"><code>
@app.template_filter('md')
def markdown_to_html(txt):
    return markdown(txt,extensions=['markdown.extensions.fenced_code','markdown.extensions.extra','markdown.extensions.smarty','markdown.extensions.nl2br'])
        </code></pre>

     <h3>æµ‹è¯•</h3>
        <pre class="python"><code>
if __name__ == '__main__':
    m = Mgekdown() #åˆå§‹åŒ–å¤„ç†å¯¹è±¡
    print(m.filelist('post')) #å¾—åˆ°postä¸‹çš„å…¨éƒ¨mdæ–‡ä»¶åç§°åˆ—è¡¨
    print(m.read('post/test.md')) #è¯»å–mdæ–‡ä»¶çš„å†…å®¹
    txt = m.read('post/test.md')
    print(m.title(txt)) #è¯»å–é¡¶éƒ¨æ ‡ç­¾å†…çš„æ–‡ç« æ ‡é¢˜
    print(m.content(txt)) #å»é™¤mdå†…å®¹çš„é¡¶éƒ¨æ ‡ç­¾éƒ¨åˆ†ï¼Œå¾—åˆ°æ–‡ç« å†…å®¹
    print(m.abstract(txt)) <span id="æå–æ–‡">  </span>ç« æ‘˜è¦
        </code></pre>

        <h3>ä½¿ç”¨</h3>
        <p>flaskä¸­æ·»åŠ åšå®¢è·¯ç”±</p>
        <pre class="python"><code>
from markdown import markdown
from mgekdown import Mgekdown as mgd

@app.route('/blog/post/&lt;string:name>/')
def blog_post(name):
    txt = mgd.read('post/'+ name.replace('/','')+'.md')
    content = mgd.content(txt)
    title = mgd.title(txt)

    return render_template('blog_post.html',content=content,title=title)
        </code></pre>
        <p>å¯¹åº”çš„htmlæ¨¡æ¿</p>
        <pre class="html"><code>
{% extends 'base.html' %}
{% block title %}åšå®¢{% endblock title %}
&lt;div class="list-group">
    &lt;div class="list-group-item">
    {{ post|md|safe}}
    &lt;/div>
&lt;/div>
{% endblock body %}
        </code></pre>
        <p>ä½¿ç”¨<code>{{ post|md|safe}}</code>è‡ªå®šä¹‰çš„mdè¿‡æ»¤å™¨æ¸²æŸ“markdownæ–‡æœ¬å†…å®¹</p>

        <h3>æ¥å£</h3>
        <pre class="python"><code>
mgd.filelist(path) #è¯»å–å­˜æ”¾mdæ–‡ä»¶çš„ç›®å½•è¿”å›æ–‡ä»¶åç§°åˆ—è¡¨ï¼Œåç§°ç»è¿‡urlè§„èŒƒç¼–ç å¤„ç†å¯ä»¥ç›´æ¥åŠ å…¥flaskè·¯ç”±
mgd.read(file) #è¯»å–mdæ–‡ä»¶çš„å†…å®¹
mgd.content(txt) #å¯¹mdæ ¼å¼æ–‡æœ¬å¤„ç†ï¼Œæå–æ­£æ–‡å†…å®¹
mgd.title(txt) #å¯¹mdæ ¼å¼æ–‡æœ¬å¤„ç†ï¼Œæå–æ ‡é¢˜
mgd.abstract(txt) #å¯¹mdæ ¼å¼æ–‡æœ¬å¤„ç†ï¼Œè·å–æ–‡ç« æ‘˜è¦
        </code></pre>

        <h3>æºç åœ°å€</h3>
        <a href="https://github.com/Landers1037/mgekdown">Github</a>
    <br>

        <p class="zhu"><a href="/">ğŸœ</a>&emsp;ç”±Landersç¼–å†™</p>
        <div class="postmar"></div>
    </div>
  </div>

          </div>
        </div>
      </div>

    <footer class="footer">
        <div class="footbanner">
            <a href="/">è¿”å›ä¸»é¡µ</a>
            <span class="split">|</span>
            <a href="/status/">ç«™ç‚¹ä¿¡æ¯</a>
            <span class="split">|</span>
            <a href="/copyright/">ç‰ˆæƒå£°æ˜</a>
            <span class="split">|</span>
            <a href="/public/">å…¬å…±ä¸»é¡µ</a>
        </div>
      <div class="footer-inner">
        <div class="copyright">
            <span style="color: dimgrey" class="author" itemprop="copyrightHolder">Â©Landers | åä¸­ç§‘æŠ€å¤§å­¦</span>
        </div>

      </div>
    </footer>


  <script src="/static/js/nocopy.js"></script>
  <script src="/static/js/wiki.js"></script>
</body>
</html>